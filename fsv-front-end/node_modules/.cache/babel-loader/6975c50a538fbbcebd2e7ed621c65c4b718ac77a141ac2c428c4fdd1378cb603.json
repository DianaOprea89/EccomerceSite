{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport ProductDetailPage from '@/views/ProductDetailPage';\nimport CartPage from '@/views/CartPage';\nimport ProductsPage from '@/views/ProductsPage';\nimport NotFoundPage from '@/views/NotFoundPage';\nimport loginPage from \"@/views/LoginPage\";\nimport registerPage from \"@/views/RegisterPage\";\nVue.use(VueRouter);\nconst routes = [{\n  path: '/products',\n  name: 'Products',\n  component: ProductsPage,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/users/:userId/cart',\n  name: 'CartPage',\n  component: CartPage,\n  props: true,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/products/:productId',\n  name: 'ProductDetail',\n  component: ProductDetailPage,\n  props: true,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/',\n  redirect: '/products'\n}, {\n  path: '*',\n  name: 'NotFoundPage',\n  component: NotFoundPage\n}, {\n  path: '/login',\n  name: 'Login',\n  component: loginPage\n}, {\n  path: '/register',\n  name: \"Register\",\n  component: registerPage\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  const userEmail = localStorage.getItem('userEmail');\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (!userEmail) {\n      next('/login');\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","ProductDetailPage","CartPage","ProductsPage","NotFoundPage","loginPage","registerPage","use","routes","path","name","component","meta","requiresAuth","props","redirect","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","userEmail","localStorage","getItem","matched","some","record"],"sources":["D:/laragon/www/Node exercises/repos/fsv-front-end/src/router/index.js"],"sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport ProductDetailPage from '@/views/ProductDetailPage';\nimport CartPage from '@/views/CartPage';\nimport ProductsPage from '@/views/ProductsPage';\nimport NotFoundPage from '@/views/NotFoundPage';\nimport loginPage from \"@/views/LoginPage\";\nimport registerPage from \"@/views/RegisterPage\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: '/products',\n    name: 'Products',\n    component: ProductsPage,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/users/:userId/cart',\n    name: 'CartPage',\n    component: CartPage,\n    props: true,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/products/:productId',\n    name: 'ProductDetail',\n    component: ProductDetailPage,\n    props: true,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/',\n    redirect: '/products',\n  },\n  {\n    path: '*',\n    name: 'NotFoundPage',\n    component: NotFoundPage\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: loginPage\n  },\n  {\n    path: '/register',\n    name: \"Register\",\n    component: registerPage\n  }\n];\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n});\n\nrouter.beforeEach((to, from, next) => {\n  const userEmail = localStorage.getItem('userEmail');\n\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (!userEmail) {\n      next('/login');\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,iBAAiB,MAAM,2BAA2B;AACzD,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,YAAY,MAAM,sBAAsB;AAE/CP,GAAG,CAACQ,GAAG,CAACP,SAAS,CAAC;AAElB,MAAMQ,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAER,YAAY;EACvBS,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,qBAAqB;EAC3BC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAET,QAAQ;EACnBY,KAAK,EAAE,IAAI;EACXF,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,sBAAsB;EAC5BC,IAAI,EAAE,eAAe;EACrBC,SAAS,EAAEV,iBAAiB;EAC5Ba,KAAK,EAAE,IAAI;EACXF,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,GAAG;EACTM,QAAQ,EAAE;AACZ,CAAC,EACD;EACEN,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,cAAc;EACpBC,SAAS,EAAEP;AACb,CAAC,EACD;EACEK,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEN;AACb,CAAC,EACD;EACEI,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEL;AACb,CAAC,CACF;AAED,MAAMU,MAAM,GAAG,IAAIhB,SAAS,CAAC;EAC3BiB,IAAI,EAAE,SAAS;EACfC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ;EAC1Bb;AACF,CAAC,CAAC;AAEFQ,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAEnD,IAAIL,EAAE,CAACM,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACnB,IAAI,CAACC,YAAY,CAAC,EAAE;IACvD,IAAI,CAACa,SAAS,EAAE;MACdD,IAAI,CAAC,QAAQ,CAAC;IAChB,CAAC,MAAM;MACLA,IAAI,CAAC,CAAC;IACR;EACF,CAAC,MAAM;IACLA,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeT,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}