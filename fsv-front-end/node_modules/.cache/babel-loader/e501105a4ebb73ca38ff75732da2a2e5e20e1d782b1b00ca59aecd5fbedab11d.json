{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    user: JSON.parse(localStorage.getItem('user')) || null,\n    cart: []\n  },\n  mutations: {\n    SET_USER(state, user) {\n      console.log('Setting user data:', user);\n      state.user = user;\n      localStorage.setItem('user', JSON.stringify(user));\n      console.log('User data set in Vuex store:', user);\n    },\n    LOGOUT(state) {\n      state.user = null;\n      localStorage.removeItem('user');\n    },\n    ADD_TO_CART(state, product) {\n      console.log('Mutation: Adding to cart...', product);\n      const existingProduct = state.cart.find(item => item.id === product.id);\n      if (!existingProduct) {\n        state.cart.push(product);\n      }\n    },\n    REMOVE_FROM_CART(state, productId) {\n      const index = state.cart.findIndex(item => item.id === productId);\n      if (index !== -1) {\n        state.cart.splice(index, 1);\n      }\n    }\n  },\n  getters: {\n    isAuthenticated: state => {\n      const isAuthenticated = !!state.user;\n      console.log('isAuthenticated:', isAuthenticated);\n      return isAuthenticated;\n    },\n    loggedInUser: state => state.user,\n    cartItems: state => state.cart\n  },\n  actions: {\n    addToCart({\n      commit\n    }, product) {\n      console.log(\"Action: Adding to cart...\", product);\n      commit('ADD_TO_CART', product);\n      console.log(\"Action: Cart after adding...\", this.state.cart);\n    },\n    setUser({\n      commit\n    }, user) {\n      commit('SET_USER', user);\n    },\n    removeFromCart({\n      commit\n    }, productId) {\n      commit('REMOVE_FROM_CART', productId);\n    }\n  }\n});","map":{"version":3,"names":["Vue","Vuex","use","Store","state","user","JSON","parse","localStorage","getItem","cart","mutations","SET_USER","console","log","setItem","stringify","LOGOUT","removeItem","ADD_TO_CART","product","existingProduct","find","item","id","push","REMOVE_FROM_CART","productId","index","findIndex","splice","getters","isAuthenticated","loggedInUser","cartItems","actions","addToCart","commit","setUser","removeFromCart"],"sources":["D:/laragon/www/Node exercises/repos/fsv-front-end/src/store/store.js"],"sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        user: JSON.parse(localStorage.getItem('user')) || null,\r\n        cart: [],\r\n    },\r\n    mutations: {\r\n        SET_USER(state, user) {\r\n            console.log('Setting user data:', user);\r\n            state.user = user;\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n            console.log('User data set in Vuex store:', user);\r\n\r\n        },\r\n        LOGOUT(state) {\r\n            state.user = null;\r\n            localStorage.removeItem('user');\r\n        },\r\n        ADD_TO_CART(state, product) {\r\n            console.log('Mutation: Adding to cart...', product);\r\n            const existingProduct = state.cart.find(item => item.id === product.id);\r\n            if (!existingProduct) {\r\n                state.cart.push(product);\r\n            }\r\n        },\r\n\r\n\r\n        REMOVE_FROM_CART(state, productId) {\r\n            const index = state.cart.findIndex(item => item.id === productId);\r\n            if (index !== -1) {\r\n                state.cart.splice(index, 1);\r\n\r\n            }\r\n        },\r\n    },\r\n    getters: {\r\n        isAuthenticated: state => {\r\n            const isAuthenticated = !!state.user;\r\n            console.log('isAuthenticated:', isAuthenticated);\r\n            return isAuthenticated;\r\n        },\r\n        loggedInUser: state => state.user,\r\n        cartItems: state => state.cart,\r\n    },\r\n    actions: {\r\n        addToCart({commit}, product) {\r\n            console.log(\"Action: Adding to cart...\", product);\r\n            commit('ADD_TO_CART', product);\r\n            console.log(\"Action: Cart after adding...\", this.state.cart);\r\n        },\r\n        setUser({ commit }, user) {\r\n            commit('SET_USER', user);\r\n        },\r\n\r\n\r\n        removeFromCart({commit}, productId) {\r\n            commit('REMOVE_FROM_CART', productId);\r\n        },\r\n    },\r\n});\r\n"],"mappings":";AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AAEvBD,GAAG,CAACE,GAAG,CAACD,IAAI,CAAC;AAEb,eAAe,IAAIA,IAAI,CAACE,KAAK,CAAC;EAC1BC,KAAK,EAAE;IACHC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI;IACtDC,IAAI,EAAE;EACV,CAAC;EACDC,SAAS,EAAE;IACPC,QAAQA,CAACR,KAAK,EAAEC,IAAI,EAAE;MAClBQ,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAET,IAAI,CAAC;MACvCD,KAAK,CAACC,IAAI,GAAGA,IAAI;MACjBG,YAAY,CAACO,OAAO,CAAC,MAAM,EAAET,IAAI,CAACU,SAAS,CAACX,IAAI,CAAC,CAAC;MAClDQ,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAET,IAAI,CAAC;IAErD,CAAC;IACDY,MAAMA,CAACb,KAAK,EAAE;MACVA,KAAK,CAACC,IAAI,GAAG,IAAI;MACjBG,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC;IACnC,CAAC;IACDC,WAAWA,CAACf,KAAK,EAAEgB,OAAO,EAAE;MACxBP,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEM,OAAO,CAAC;MACnD,MAAMC,eAAe,GAAGjB,KAAK,CAACM,IAAI,CAACY,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAC;MACvE,IAAI,CAACH,eAAe,EAAE;QAClBjB,KAAK,CAACM,IAAI,CAACe,IAAI,CAACL,OAAO,CAAC;MAC5B;IACJ,CAAC;IAGDM,gBAAgBA,CAACtB,KAAK,EAAEuB,SAAS,EAAE;MAC/B,MAAMC,KAAK,GAAGxB,KAAK,CAACM,IAAI,CAACmB,SAAS,CAACN,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKG,SAAS,CAAC;MACjE,IAAIC,KAAK,KAAK,CAAC,CAAC,EAAE;QACdxB,KAAK,CAACM,IAAI,CAACoB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MAE/B;IACJ;EACJ,CAAC;EACDG,OAAO,EAAE;IACLC,eAAe,EAAE5B,KAAK,IAAI;MACtB,MAAM4B,eAAe,GAAG,CAAC,CAAC5B,KAAK,CAACC,IAAI;MACpCQ,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEkB,eAAe,CAAC;MAChD,OAAOA,eAAe;IAC1B,CAAC;IACDC,YAAY,EAAE7B,KAAK,IAAIA,KAAK,CAACC,IAAI;IACjC6B,SAAS,EAAE9B,KAAK,IAAIA,KAAK,CAACM;EAC9B,CAAC;EACDyB,OAAO,EAAE;IACLC,SAASA,CAAC;MAACC;IAAM,CAAC,EAAEjB,OAAO,EAAE;MACzBP,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEM,OAAO,CAAC;MACjDiB,MAAM,CAAC,aAAa,EAAEjB,OAAO,CAAC;MAC9BP,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAACV,KAAK,CAACM,IAAI,CAAC;IAChE,CAAC;IACD4B,OAAOA,CAAC;MAAED;IAAO,CAAC,EAAEhC,IAAI,EAAE;MACtBgC,MAAM,CAAC,UAAU,EAAEhC,IAAI,CAAC;IAC5B,CAAC;IAGDkC,cAAcA,CAAC;MAACF;IAAM,CAAC,EAAEV,SAAS,EAAE;MAChCU,MAAM,CAAC,kBAAkB,EAAEV,SAAS,CAAC;IACzC;EACJ;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}