{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    isAuthenticated: !!localStorage.getItem('user'),\n    user: JSON.parse(localStorage.getItem('user')) || null,\n    cart: []\n  },\n  mutations: {\n    SET_AUTHENTICATED(state, isAuthenticated) {\n      state.isAuthenticated = isAuthenticated;\n    },\n    SET_USER(state, user) {\n      console.log('Setting user data:', user);\n      state.user = user;\n      localStorage.setItem('user', JSON.stringify(user));\n      console.log('User data set in Vuex store:', user);\n    },\n    LOGOUT(state) {\n      state.user = null;\n      localStorage.removeItem('user');\n    },\n    ADD_TO_CART(state, product) {\n      console.log('Mutation: Adding to cart...', product);\n      const existingProduct = state.cart.find(item => item.id === product.id);\n      if (!existingProduct) {\n        state.cart.push(product);\n      }\n    },\n    REMOVE_FROM_CART(state, productId) {\n      const index = state.cart.findIndex(item => item.id === productId);\n      if (index !== -1) {\n        state.cart.splice(index, 1);\n      }\n    }\n  },\n  getters: {\n    isAuthenticated: state => {\n      const isAuthenticated = !!state.user;\n      console.log('isAuthenticated:', isAuthenticated);\n      return isAuthenticated;\n    },\n    loggedInUser: state => state.user,\n    cartItems: state => state.cart\n  },\n  actions: {\n    addToCart({\n      commit\n    }, product) {\n      console.log(\"Action: Adding to cart...\", product);\n      commit('ADD_TO_CART', product);\n      console.log(\"Action: Cart after adding...\", this.state.cart);\n    },\n    setUser({\n      commit\n    }, user) {\n      commit('SET_USER', user);\n    },\n    removeFromCart({\n      commit\n    }, productId) {\n      commit('REMOVE_FROM_CART', productId);\n    }\n  }\n});","map":{"version":3,"names":["Vue","Vuex","use","Store","state","isAuthenticated","localStorage","getItem","user","JSON","parse","cart","mutations","SET_AUTHENTICATED","SET_USER","console","log","setItem","stringify","LOGOUT","removeItem","ADD_TO_CART","product","existingProduct","find","item","id","push","REMOVE_FROM_CART","productId","index","findIndex","splice","getters","loggedInUser","cartItems","actions","addToCart","commit","setUser","removeFromCart"],"sources":["D:/laragon/www/Node exercises/repos/fsv-front-end/src/store/store.js"],"sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        isAuthenticated: !!localStorage.getItem('user'),\r\n        user: JSON.parse(localStorage.getItem('user')) || null,\r\n        cart: [],\r\n    },\r\n\r\n    mutations: {\r\n        SET_AUTHENTICATED(state, isAuthenticated) {\r\n            state.isAuthenticated = isAuthenticated;\r\n        },\r\n        SET_USER(state, user) {\r\n            console.log('Setting user data:', user);\r\n            state.user = user;\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n            console.log('User data set in Vuex store:', user);\r\n\r\n        },\r\n        LOGOUT(state) {\r\n            state.user = null;\r\n            localStorage.removeItem('user');\r\n        },\r\n        ADD_TO_CART(state, product) {\r\n            console.log('Mutation: Adding to cart...', product);\r\n            const existingProduct = state.cart.find(item => item.id === product.id);\r\n            if (!existingProduct) {\r\n                state.cart.push(product);\r\n            }\r\n        },\r\n\r\n\r\n        REMOVE_FROM_CART(state, productId) {\r\n            const index = state.cart.findIndex(item => item.id === productId);\r\n            if (index !== -1) {\r\n                state.cart.splice(index, 1);\r\n\r\n            }\r\n        },\r\n    },\r\n    getters: {\r\n        isAuthenticated: state => {\r\n            const isAuthenticated = !!state.user;\r\n            console.log('isAuthenticated:', isAuthenticated);\r\n            return isAuthenticated;\r\n        },\r\n        loggedInUser: state => state.user,\r\n        cartItems: state => state.cart,\r\n    },\r\n    actions: {\r\n        addToCart({commit}, product) {\r\n            console.log(\"Action: Adding to cart...\", product);\r\n            commit('ADD_TO_CART', product);\r\n            console.log(\"Action: Cart after adding...\", this.state.cart);\r\n        },\r\n        setUser({ commit }, user) {\r\n            commit('SET_USER', user);\r\n        },\r\n\r\n\r\n        removeFromCart({commit}, productId) {\r\n            commit('REMOVE_FROM_CART', productId);\r\n        },\r\n    },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}